!function(){"use strict";function e(e){return o(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||n()}function t(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(u){a=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(e,t)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(self.webpackChunkappdemo_ng12=self.webpackChunkappdemo_ng12||[]).push([[877],{5877:function(n,i,r){r.r(i),r.d(i,{NewsEventModule:function(){return Ve}});var o,a=r(2224),c=r(8127),l=r(30),f=r(7112),d=r(5688),g=r(7147),p=r(9803),h=r(1569),T=r(3546),v=r(4376),Z=r(1037),A=r(5342),m=((o=function(){function e(t){s(this,e),this.http=t}return u(e,[{key:"getnotifByID",value:function(e){return this.http.get("".concat(Z.N.apiUrl,"/push-notif/getnotifbyid/").concat(e))}},{key:"getnotiftype",value:function(){return this.http.get("".concat(Z.N.apiUrl,"/push-notif/getnotiftype"))}}]),e}()).\u0275fac=function(e){return new(e||o)(g.LFG(A.eN))},o.\u0275prov=g.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),_=r(2016);function b(e,t){1&e&&(g.TgZ(0,"h2",36),g._uU(1,"New Event"),g.qZA())}function E(e,t){1&e&&(g.TgZ(0,"h2",36),g._uU(1,"Edit Event"),g.qZA())}function y(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*News required"),g.qZA())}function I(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,y,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.NEWS.errors.required)}}function N(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*Start Date required"),g.qZA())}function q(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,N,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.START_DATE.errors.required)}}function w(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*End Date required"),g.qZA())}function S(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,w,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.END_DATE.errors.required)}}function D(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*Description required"),g.qZA())}function U(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,D,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.DESCRIPTION.errors.required)}}function C(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*URL required"),g.qZA())}function x(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,C,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.URL.errors.required)}}function O(e,t){1&e&&(g.TgZ(0,"div",44),g._UZ(1,"div",45),g.qZA())}function k(e,t){1&e&&(g.TgZ(0,"div",46),g._uU(1," Image Uploaded Succesfuly!"),g.qZA())}function Y(e,t){1&e&&(g.TgZ(0,"div",47),g._uU(1," Image Upload Failed!"),g.qZA())}var F=function(e){return{"background-image":e}};function P(e,t){if(1&e&&(g.TgZ(0,"div",39),g._UZ(1,"div",40),g.YNc(2,O,2,0,"div",41),g.YNc(3,k,2,0,"div",42),g.YNc(4,Y,2,0,"div",43),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Gre("img-preview","fail"===n.selectedFile.status?"-error":"",""),g.Q6J("ngStyle",g.VKq(7,F,"url("+n.selectedFile.src+")")),g.xp6(1),g.Q6J("ngIf",n.selectedFile.pending),g.xp6(1),g.Q6J("ngIf","ok"===n.selectedFile.status),g.xp6(1),g.Q6J("ngIf","fail"===n.selectedFile.status)}}function R(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*Picture required"),g.qZA())}function J(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,R,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.PICTURE.errors.required)}}function M(e,t){if(1&e&&(g.TgZ(0,"option",48),g._uU(1),g.qZA()),2&e){var n=t.$implicit;g.s9C("value",n.CATEGORY_NEWS_ID),g.xp6(1),g.Oqu(n.CATEGORY_NEWS_NAME)}}function Q(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*Category required"),g.qZA())}function W(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,Q,2,0,"div",37),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.f.CATEGORY_NEWS_ID.errors.required)}}function L(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*Start Date Notif required"),g.qZA())}function V(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,L,2,0,"div",37),g.qZA()),2&e){var n=g.oxw(2);g.xp6(1),g.Q6J("ngIf",n.f.START_DATE_NOTIF.errors.required)}}var B=function(e){return{"is-invalid":e}};function G(e,t){if(1&e&&(g.TgZ(0,"div",9),g.TgZ(1,"label"),g._uU(2,"Start Date Notif"),g.qZA(),g._UZ(3,"input",49),g.YNc(4,V,2,1,"div",11),g.qZA()),2&e){var n=g.oxw();g.xp6(3),g.Q6J("ngClass",g.VKq(2,B,n.submitted&&n.f.START_DATE_NOTIF.errors)),g.xp6(1),g.Q6J("ngIf",n.submitted&&n.f.START_DATE_NOTIF.errors)}}function K(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*End Date Notif required"),g.qZA())}function j(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,K,2,0,"div",37),g.qZA()),2&e){var n=g.oxw(2);g.xp6(1),g.Q6J("ngIf",n.f.END_DATE_NOTIF.errors.required)}}function z(e,t){if(1&e&&(g.TgZ(0,"div",9),g.TgZ(1,"label"),g._uU(2,"End Date Notif"),g.qZA(),g._UZ(3,"input",50),g.YNc(4,j,2,1,"div",11),g.qZA()),2&e){var n=g.oxw();g.xp6(3),g.Q6J("ngClass",g.VKq(2,B,n.submitted&&n.f.END_DATE_NOTIF.errors)),g.xp6(1),g.Q6J("ngIf",n.submitted&&n.f.END_DATE_NOTIF.errors)}}function H(e,t){if(1&e&&(g.TgZ(0,"option",48),g._uU(1),g.qZA()),2&e){var n=t.$implicit;g.s9C("value",n.NOTIF_TYPE_ID),g.xp6(1),g.Oqu(n.NOTIF_TYPE_NAME)}}function X(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"*notif type required"),g.qZA())}function $(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,X,2,0,"div",37),g.qZA()),2&e){var n=g.oxw(2);g.xp6(1),g.Q6J("ngIf",n.f.NOTIF_TYPE_ID.errors.required)}}function ee(e,t){if(1&e&&(g.TgZ(0,"div",23),g.TgZ(1,"label"),g._uU(2,"Notif Type"),g.qZA(),g.TgZ(3,"div",24),g.TgZ(4,"select",51),g.YNc(5,H,2,2,"option",26),g.qZA(),g.qZA(),g.YNc(6,$,2,1,"div",11),g.qZA()),2&e){var n=g.oxw();g.xp6(4),g.Q6J("ngClass",g.VKq(3,B,n.submitted&&n.f.NOTIF_TYPE_ID.errors)),g.xp6(1),g.Q6J("ngForOf",n.notiftype),g.xp6(1),g.Q6J("ngIf",n.submitted&&n.f.NOTIF_TYPE_ID.errors)}}function te(e,t){1&e&&g._UZ(0,"span")}var ne=function(){return{standalone:!0}},ie=function e(t,n){s(this,e),this.src=t,this.file=n,this.pending=!1,this.status="init"},re=function(){var e=function(){function e(t,n,i,r,o,a,u,c,l){s(this,e),this.formBuilder=t,this.route=n,this.router=i,this.newsEventService=r,this.alertService=o,this.datepipe=a,this.imageService=u,this.industryService=c,this.notifService=l,this.subs=new d.Y,this.loading=!1,this.submitted=!1,this.data=null,this.category=null,this.categoryName=null,this.isChecked=null,this.selectedIndustry=null,this.industrylist=null,this.notiftype=null,this.notifdata=null}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.form=this.formBuilder.group({NEWS_ID:[0],NEWS:["",c.kI.required],START_DATE:["",c.kI.required],END_DATE:["",c.kI.required],START_DATE_NOTIF:[""],END_DATE_NOTIF:[""],NOTIF_TYPE_ID:[""],DESCRIPTION:["",c.kI.required],URL:["",c.kI.required],PICTURE:["",c.kI.required],ISACTIVE:[!0],CATEGORY_NEWS_ID:["",c.kI.required],CATEGORY_NEWS_NAME:[""],notif:[""],group_news_list:[""]}),this.isAddMode||(this.subs.add(this.newsEventService.getById(this.id).pipe((0,f.P)()).subscribe(function(t){e.form.patchValue(t),e.form.get("START_DATE").setValue(e.datepipe.transform(t.START_DATE,"yyyy-MM-ddThh:mm")),e.form.get("END_DATE").setValue(e.datepipe.transform(t.END_DATE,"yyyy-MM-ddThh:mm"))})),this.subs.add(this.newsEventService.getGroupNews(this.id).subscribe(function(t){return e.selectedIndustry=t})),this.subs.add(this.notifService.getnotifByID(this.id).subscribe(function(t){e.notifdata=t,e.notifdata.length>0&&(e.isChecked=!0,e.form.get("START_DATE_NOTIF").setValue(e.datepipe.transform(e.notifdata[0].START_DATE_NOTIF,"yyyy-MM-ddThh:mm")),e.form.get("END_DATE_NOTIF").setValue(e.datepipe.transform(e.notifdata[0].END_DATE_NOTIF,"yyyy-MM-ddThh:mm")),e.form.get("NOTIF_TYPE_ID").setValue(e.notifdata[0].NOTIF_TYPE_ID))}))),this.subs.add(this.newsEventService.getcategory().subscribe(function(t){return e.category=t})),this.subs.add(this.industryService.getlistindustry().subscribe(function(t){return e.industrylist=t})),this.subs.add(this.notifService.getnotiftype().subscribe(function(t){return e.notiftype=t}))}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.createNewsEvent())}},{key:"onSuccess",value:function(){this.selectedFile.pending=!1,this.selectedFile.status="ok"}},{key:"onError",value:function(){this.selectedFile.pending=!1,this.selectedFile.status="fail",this.selectedFile.src=""}},{key:"processFile",value:function(e){var t=this,n=e.files[0],i=new FileReader;this.form.value.PICTURE&&this.imageService.deleteImage(this.form.value.PICTURE).pipe((0,f.P)()).subscribe(),i.addEventListener("load",function(e){t.selectedFile=new ie(e.target.result,n),t.imageService.uploadImage(t.selectedFile.file).subscribe(function(e){t.form.get("PICTURE").setValue(e.filename),t.onSuccess()},function(e){t.onError()})}),i.readAsDataURL(n)}},{key:"onSelectClick",value:function(e){this.categoryName=this.category.filter(function(t){return t.CATEGORY_NEWS_ID==e})[0].CATEGORY_NEWS_NAME,this.form.get("CATEGORY_NEWS_NAME").setValue(this.categoryName)}},{key:"createNewsEvent",value:function(){var e=this;this.isAddMode||this.isChecked&&this.form.get("notif").setValue({NOTIF_ID:this.notifdata[0].NOTIF_ID,START_DATE_NOTIF:this.form.value.START_DATE_NOTIF,END_DATE_NOTIF:this.form.value.END_DATE_NOTIF,NOTIF_TYPE_ID:this.form.value.NOTIF_TYPE_ID,DATA_ID:this.notifdata[0].DATA_ID,DISCORD_ID:this.notifdata[0].DISCORD_ID}),this.isAddMode&&this.isChecked&&this.form.get("notif").setValue({START_DATE_NOTIF:this.form.value.START_DATE_NOTIF,END_DATE_NOTIF:this.form.value.END_DATE_NOTIF,NOTIF_TYPE_ID:this.form.value.NOTIF_TYPE_ID}),this.alertService.loading(),this.subs.add(this.newsEventService.create(this.form.value).pipe((0,f.P)()).subscribe({next:function(){e.alertService.success(),e.router.navigate(["../"],{relativeTo:e.route})},error:function(t){e.alertService.error(t),e.loading=!1}}))}},{key:"changed",value:function(e){this.isChecked=e.target.checked}},{key:"onSelection",value:function(e){this.form.get("group_news_list").setValue(e)}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(c.qu),g.Y36(l.gz),g.Y36(l.F0),g.Y36(p.f),g.Y36(h.c9),g.Y36(a.uU),g.Y36(T.C),g.Y36(v.L),g.Y36(m))},e.\u0275cmp=g.Xpm({type:e,selectors:[["ng-component"]],decls:84,vars:44,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],["class","mr-40",4,"ngIf"],["routerLink","/news-event",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover"],[1,"lni","lni-chevron-left","mr-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6"],[1,"card-style","mb-30"],[1,"divider"],[1,"input-style-1"],["type","text","formControlName","NEWS",3,"ngClass"],[4,"ngIf"],["type","datetime-local","formControlName","START_DATE",3,"ngClass"],["type","datetime-local","formControlName","END_DATE",3,"ngClass"],[1,"input-style-3"],["placeholder","description","formControlName","DESCRIPTION",3,"ngClass"],[1,"icon"],[1,"lni","lni-text-format"],["type","text","formControlName","URL",3,"ngClass"],["type","file","accept","image/*",3,"change"],["imageInput",""],["class","img-preview-container",4,"ngIf"],["type","text","formControlName","PICTURE","disabled","",3,"ngClass"],[1,"select-style-1"],[1,"select-position"],["formControlName","CATEGORY_NEWS_ID",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","INDUSTRY_NAME","placeholder","Select Industry","appendTo","body",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],[1,"form-check","form-switch","toggle-switch","mb-30"],["formControlName","ISACTIVE","type","checkbox","id","toggleSwitch1",1,"form-check-input"],["for","toggleSwitch1",1,"form-check-label"],["type","checkbox","id","toggleSwitch2",1,"form-check-input",3,"checked","change"],["for","toggleSwitch2",1,"form-check-label"],["class","input-style-1",4,"ngIf"],["class","select-style-1",4,"ngIf"],[1,"main-btn","primary-btn","rounded-btn","btn-hover",3,"disabled"],[1,"mr-40"],["style","color:red",4,"ngIf"],[2,"color","red"],[1,"img-preview-container"],[3,"ngStyle"],["class","img-loading-overlay",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"img-loading-overlay"],[1,"img-spinning-circle"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[3,"value"],["type","datetime-local","formControlName","START_DATE_NOTIF",3,"ngClass"],["type","datetime-local","formControlName","END_DATE_NOTIF",3,"ngClass"],["formControlName","NOTIF_TYPE_ID",3,"ngClass"]],template:function(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",0),g.YNc(1,b,2,0,"h2",1),g.YNc(2,E,2,0,"h2",1),g.TgZ(3,"button",2),g._UZ(4,"i",3),g._uU(5,"Back"),g.qZA(),g.qZA(),g.TgZ(6,"div",4),g.TgZ(7,"form",5),g.NdJ("ngSubmit",function(){return t.onSubmit()}),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"h5"),g._uU(11,"News Description"),g.qZA(),g.TgZ(12,"span",8),g._UZ(13,"hr"),g.qZA(),g.TgZ(14,"div",9),g.TgZ(15,"label"),g._uU(16,"News"),g.qZA(),g._UZ(17,"input",10),g.YNc(18,I,2,1,"div",11),g.qZA(),g.TgZ(19,"div",9),g.TgZ(20,"label"),g._uU(21,"Start Date"),g.qZA(),g._UZ(22,"input",12),g.YNc(23,q,2,1,"div",11),g.qZA(),g.TgZ(24,"div",9),g.TgZ(25,"label"),g._uU(26,"End Date"),g.qZA(),g._UZ(27,"input",13),g.YNc(28,S,2,1,"div",11),g.qZA(),g.TgZ(29,"div",14),g.TgZ(30,"textarea",15),g._uU(31," "),g.qZA(),g.TgZ(32,"span",16),g._UZ(33,"i",17),g.qZA(),g.YNc(34,U,2,1,"div",11),g.qZA(),g.TgZ(35,"div",9),g.TgZ(36,"label"),g._uU(37,"URL"),g.qZA(),g._UZ(38,"input",18),g.YNc(39,x,2,1,"div",11),g.qZA(),g.TgZ(40,"div",9),g.TgZ(41,"label"),g._uU(42,"Select Image"),g.qZA(),g.TgZ(43,"input",19,20),g.NdJ("change",function(){g.CHM(n);var e=g.MAs(44);return t.processFile(e)}),g.qZA(),g.qZA(),g.YNc(45,P,5,9,"div",21),g.TgZ(46,"div",9),g.TgZ(47,"label"),g._uU(48,"PICTURE"),g.qZA(),g._UZ(49,"input",22),g.YNc(50,J,2,1,"div",11),g.qZA(),g.TgZ(51,"div",23),g.TgZ(52,"label"),g._uU(53,"Category"),g.qZA(),g.TgZ(54,"div",24),g.TgZ(55,"select",25),g.NdJ("change",function(e){return t.onSelectClick(e.target.value)}),g.YNc(56,M,2,2,"option",26),g.qZA(),g.qZA(),g.YNc(57,W,2,1,"div",11),g.qZA(),g.TgZ(58,"div"),g.TgZ(59,"label"),g._uU(60,"Group News By Industry"),g.qZA(),g.TgZ(61,"div",24),g.TgZ(62,"ng-select",27),g.NdJ("change",function(e){return t.onSelection(e)})("ngModelChange",function(e){return t.selectedIndustry=e}),g.qZA(),g.qZA(),g.qZA(),g._UZ(63,"br"),g.TgZ(64,"div",28),g._UZ(65,"input",29),g.TgZ(66,"label",30),g._uU(67,"IsActive"),g.qZA(),g.qZA(),g.TgZ(68,"div",28),g.TgZ(69,"input",31),g.NdJ("change",function(e){return t.changed(e)}),g.qZA(),g.TgZ(70,"label",32),g._uU(71,"Set Notif"),g.qZA(),g.qZA(),g.YNc(72,G,5,4,"div",33),g.YNc(73,z,5,4,"div",33),g.YNc(74,ee,7,5,"div",34),g.TgZ(75,"span",8),g._UZ(76,"hr"),g.qZA(),g.TgZ(77,"div"),g.TgZ(78,"button",2),g._uU(79," Cancel "),g.qZA(),g._uU(80,"\xa0 "),g.TgZ(81,"button",35),g.YNc(82,te,1,0,"span",11),g._uU(83," \xa0Save\xa0 "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&e&&(g.xp6(1),g.Q6J("ngIf",t.isAddMode),g.xp6(1),g.Q6J("ngIf",!t.isAddMode),g.xp6(5),g.Q6J("formGroup",t.form),g.xp6(10),g.Q6J("ngClass",g.VKq(29,B,t.submitted&&t.f.NEWS.errors)),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.NEWS.errors),g.xp6(4),g.Q6J("ngClass",g.VKq(31,B,t.submitted&&t.f.START_DATE.errors)),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.START_DATE.errors),g.xp6(4),g.Q6J("ngClass",g.VKq(33,B,t.submitted&&t.f.END_DATE.errors)),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.END_DATE.errors),g.xp6(2),g.Q6J("ngClass",g.VKq(35,B,t.submitted&&t.f.DESCRIPTION.errors)),g.xp6(4),g.Q6J("ngIf",t.submitted&&t.f.DESCRIPTION.errors),g.xp6(4),g.Q6J("ngClass",g.VKq(37,B,t.submitted&&t.f.URL.errors)),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.URL.errors),g.xp6(6),g.Q6J("ngIf",t.selectedFile),g.xp6(4),g.Q6J("ngClass",g.VKq(39,B,t.submitted&&t.f.PICTURE.errors)),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.PICTURE.errors),g.xp6(5),g.Q6J("ngClass",g.VKq(41,B,t.submitted&&t.f.CATEGORY_NEWS_ID.errors)),g.xp6(1),g.Q6J("ngForOf",t.category),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.CATEGORY_NEWS_ID.errors),g.xp6(5),g.Q6J("items",t.industrylist)("multiple",!0)("ngModel",t.selectedIndustry)("ngModelOptions",g.DdM(43,ne)),g.xp6(7),g.Q6J("checked",t.isChecked),g.xp6(3),g.Q6J("ngIf",t.isChecked),g.xp6(1),g.Q6J("ngIf",t.isChecked),g.xp6(1),g.Q6J("ngIf",t.isChecked),g.xp6(7),g.Q6J("disabled",t.loading),g.xp6(1),g.Q6J("ngIf",t.loading))},directives:[a.O5,l.rH,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,a.mk,c.EJ,a.sg,_.w9,c.On,c.Wl,a.PC,c.YN,c.Kr],styles:['.image-upload-container[_ngcontent-%COMP%]{cursor:pointer}.img-preview-container[_ngcontent-%COMP%]{background-color:#f7f7f7;position:relative}.img-preview-container[_ngcontent-%COMP%]   .img-preview[_ngcontent-%COMP%]{background:center center no-repeat;background-size:contain;height:116px;width:116px}.img-preview-container[_ngcontent-%COMP%]   .img-preview-error[_ngcontent-%COMP%]{display:none}.img-loading-overlay[_ngcontent-%COMP%]{background-color:#000;bottom:0;left:0;opacity:.2;position:absolute;right:0;top:0}.img-spinning-circle[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px;margin:auto;position:absolute;top:0;left:0;bottom:0;right:0}.img-spinning-circle[_ngcontent-%COMP%]:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent #fff transparent;-webkit-animation:lds-dual-ring 1.2s linear infinite;animation:lds-dual-ring 1.2s linear infinite}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),e}(),oe=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&g._UZ(0,"router-outlet")},directives:[l.lC],encapsulation:2}),e}(),se=r(4693),ae=r.n(se),ue=r(152),ce=r(2904),le=r(4168),fe=r(9142),de=r(3940),ge=r(2518),pe=r(9291),he=r(1658),Te=new pe.y(he.Z),ve=r(6172),Ze=r(3984),Ae=r(8048),me=r(6012),_e=r(6401),be=r(6517),Ee=r(2080),ye=r(797),Ie="Service workers are disabled or not supported by this browser",Ne=function(){function e(t){if(s(this,e),this.serviceWorker=t,t){var n=(0,le.R)(t,"controllerchange").pipe((0,Ze.U)(function(){return t.controller})),i=(0,ue.P)(function(){return(0,fe.of)(t.controller)}),r=(0,de.z)(i,n);this.worker=r.pipe((0,Ae.h)(function(e){return!!e})),this.registration=this.worker.pipe((0,me.w)(function(){return t.getRegistration()}));var o=(0,le.R)(t,"message").pipe((0,Ze.U)(function(e){return e.data})).pipe((0,Ae.h)(function(e){return e&&e.type})).pipe((0,_e.O)(new ge.xQ));o.connect(),this.events=o}else this.worker=this.events=this.registration=(0,ue.P)(function(){return(0,ce._)(new Error("Service workers are disabled or not supported by this browser"))})}return u(e,[{key:"postMessage",value:function(e,t){return this.worker.pipe((0,be.q)(1),(0,Ee.b)(function(n){n.postMessage(Object.assign({action:e},t))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(e,n,i){var r=this.waitForOperationCompleted(i),o=this.postMessage(e,n);return Promise.all([o,r]).then(function(e){return t(e,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){var t;return t="string"==typeof e?function(t){return t.type===e}:function(t){return e.includes(t.type)},this.events.pipe((0,Ae.h)(t))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe((0,be.q)(1))}},{key:"waitForOperationCompleted",value:function(e){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ae.h)(function(t){return t.nonce===e}),(0,be.q)(1),(0,Ze.U)(function(e){if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),e}(),qe=function(){var e=function(){function e(t){if(s(this,e),this.sw=t,this.subscriptionChanges=new ge.xQ,!t.isEnabled)return this.messages=Te,this.notificationClicks=Te,void(this.subscription=Te);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ze.U)(function(e){return e.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ze.U)(function(e){return e.data})),this.pushManager=this.sw.registration.pipe((0,Ze.U)(function(e){return e.pushManager}));var n=this.pushManager.pipe((0,me.w)(function(e){return e.getSubscription()}));this.subscription=(0,ve.T)(n,this.subscriptionChanges)}return u(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(e){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(Ie));for(var n={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(i.length)),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return n.applicationServerKey=r,this.pushManager.pipe((0,me.w)(function(e){return e.subscribe(n)}),(0,be.q)(1)).toPromise().then(function(e){return t.subscriptionChanges.next(e),e})}},{key:"unsubscribe",value:function(){var e=this;return this.sw.isEnabled?this.subscription.pipe((0,be.q)(1),(0,me.w)(function(t){if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(function(t){if(!t)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ie))}},{key:"decodeBase64",value:function(e){return atob(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.LFG(Ne))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e}(),we=function(){var e=function(){function e(t){if(s(this,e),this.sw=t,!t.isEnabled)return this.versionUpdates=Te,this.available=Te,this.activated=Te,void(this.unrecoverable=Te);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Ae.h)(function(e){return"VERSION_READY"===e.type}),(0,Ze.U)(function(e){return{type:"UPDATE_AVAILABLE",current:e.currentVersion,available:e.latestVersion}})),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return u(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ie));var e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ie));var e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.LFG(Ne))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e}(),Se=function e(){s(this,e)},De=new g.OlP("NGSW_REGISTER_SCRIPT");function Ue(t,n,i,r){return function(){if((0,a.NF)(r)&&"serviceWorker"in navigator&&!1!==i.enabled){var o;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof i.registrationStrategy)o=i.registrationStrategy();else{var s=e((i.registrationStrategy||"registerWhenStable:30000").split(":")),u=s[0],c=s.slice(1);switch(u){case"registerImmediately":o=(0,fe.of)(null);break;case"registerWithDelay":o=Ce(+c[0]||0);break;case"registerWhenStable":o=c[0]?(0,ve.T)(xe(t),Ce(+c[0])):xe(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(i.registrationStrategy))}}t.get(g.R0b).runOutsideAngular(function(){return o.pipe((0,be.q)(1)).subscribe(function(){return navigator.serviceWorker.register(n,{scope:i.scope}).catch(function(e){return console.error("Service worker registration failed with:",e)})})})}}}function Ce(e){return(0,fe.of)(null).pipe((0,ye.g)(e))}function xe(e){return e.get(g.z2F).isStable.pipe((0,Ae.h)(function(e){return e}))}function Oe(e,t){return new Ne((0,a.NF)(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var ke=function(){var e=function(){function e(){s(this,e)}return u(e,null,[{key:"register",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:e,providers:[{provide:De,useValue:t},{provide:Se,useValue:n},{provide:Ne,useFactory:Oe,deps:[Se,g.Lbi]},{provide:g.ip1,useFactory:Ue,deps:[g.zs3,De,Se,g.Lbi],multi:!0}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[qe,we]}),e}(),Ye=r(7333),Fe=r(4968);function Pe(e,t){1&e&&(g.TgZ(0,"div"),g.TgZ(1,"span",36),g._uU(2,"Active"),g.qZA(),g.qZA())}function Re(e,t){1&e&&(g.TgZ(0,"span",37),g._uU(1,"Off"),g.qZA())}function Je(e,t){1&e&&(g.TgZ(0,"span"),g._UZ(1,"i",38),g.qZA())}function Me(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"div",24),g._UZ(3,"img",25),g.qZA(),g.qZA(),g.TgZ(4,"td",26),g.TgZ(5,"p"),g._uU(6),g.qZA(),g.qZA(),g.TgZ(7,"td",26),g.TgZ(8,"p"),g._uU(9),g.ALo(10,"date"),g.qZA(),g.qZA(),g.TgZ(11,"td",26),g.TgZ(12,"p"),g._uU(13),g.ALo(14,"date"),g.qZA(),g.qZA(),g.TgZ(15,"td",26),g.TgZ(16,"p"),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"td",26),g.YNc(19,Pe,3,0,"div",27),g.YNc(20,Re,2,0,"ng-template",null,28,g.W1O),g.qZA(),g.TgZ(22,"td"),g.TgZ(23,"div",29),g.TgZ(24,"button",30),g.NdJ("click",function(){return g.CHM(n),g.oxw().subscribeToNotification()}),g._UZ(25,"i",31),g.qZA(),g._uU(26,"\xa0 "),g.TgZ(27,"button",32),g._UZ(28,"i",33),g.qZA(),g._uU(29,"\xa0 "),g.TgZ(30,"button",34),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().confirmBox("delete",e)}),g.YNc(31,Je,2,0,"span",35),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit,r=g.MAs(21),o=g.oxw();g.xp6(3),g.s9C("src",o.apiurl+i.PICTURE,g.LSH),g.xp6(3),g.Oqu(i.NEWS),g.xp6(3),g.Oqu(g.xi3(10,10,i.START_DATE,"fullDate")),g.xp6(4),g.Oqu(g.xi3(14,13,i.END_DATE,"fullDate")),g.xp6(4),g.Oqu(i.CATEGORY_NEWS_NAME),g.xp6(2),g.Q6J("ngIf",i.ISACTIVE)("ngIfElse",r),g.xp6(8),g.MGl("routerLink","edit/",i.NEWS_ID,""),g.xp6(3),g.Q6J("disabled",i.isDeleting),g.xp6(1),g.Q6J("ngIf",!i.isDeleting)}}var Qe=function(e,t){return{itemsPerPage:e,currentPage:t}},We=[{path:"news-event",component:oe,children:[{path:"",component:function(){var e=function(){function e(t,n,i,r){s(this,e),this.newseventService=t,this.imageService=n,this.swPush=i,this.alertService=r,this.subs=new d.Y,this.news=null,this.VAPID_PUBLIC_KEY="BPSXG3mAlQc4zZ9aluFL8rCwgzJRcdWvLkBQYEPV7nukhcKAO8iUXhxLaeecUojilqloMXmvKwW8WmBK3Od87Zw",this.baseUrl="http://localhost:4200/news",this.p=1,this.count=10,this.countdata=null,this.apiurl=Z.N.apiUrl+"/image/"}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.subs.add(this.newseventService.getAll().pipe((0,f.P)()).subscribe(function(t){e.news=t,e.countdata=e.news.length}))}},{key:"deleteNews",value:function(e){var t=this;this.alertService.loading();var n=this.news.find(function(t){return t.NEWS_ID===e.NEWS_ID});this.subs.add(this.newseventService.delete(e.NEWS_ID).pipe((0,f.P)()).subscribe(function(){n.isDeleting=!0,t.news=t.news.filter(function(t){return t.NEWS_ID!==e.NEWS_ID}),t.subs.add(t.imageService.deleteImage(n.PICTURE).pipe((0,f.P)()).subscribe()),t.countdata=t.news.length,t.alertService.success()},function(e){t.alertService.error(e)}))}},{key:"subscribeToNotification",value:function(){this.swPush.isEnabled&&(console.log("masukk"),this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then(function(e){return console.log(e)}).catch(function(e){return console.error("Could not subscribe to notifications",e)}))}},{key:"confirmBox",value:function(e,t){var n=this;"delete"==e&&ae().fire({title:"Are you sure want to delete?",text:t.NEWS,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(function(e){e.value&&n.deleteNews(t)})}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(p.f),g.Y36(T.C),g.Y36(qe),g.Y36(h.c9))},e.\u0275cmp=g.Xpm({type:e,selectors:[["ng-component"]],decls:60,vars:12,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],["routerLink","add",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-plus","mr-5"],[1,"tables-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card-style","mb-30"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3"],[1,"left"],[1,"right"],[1,"table-search","d-flex"],["action","#"],["type","text","name","something","placeholder","Search...",3,"ngModel","ngModelChange"],[1,"lni","lni-search-alt"],[1,"table-wrapper","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pt-10","d-flex","flex-wrap","justify-content-between"],[1,"text-sm","text-gray"],[1,"text-right"],[3,"pageChange"],[1,"employee-image"],["alt","",3,"src"],[1,"min-width"],[4,"ngIf","ngIfElse"],["off",""],[1,"action"],[1,"text-primary",2,"cursor","pointer",3,"click"],[1,"lni","lni-alarm"],[1,"text-primary",2,"cursor","pointer",3,"routerLink"],[1,"lni","lni-pencil-alt"],[1,"text-danger",3,"disabled","click"],[4,"ngIf"],[1,"status-btn","active-btn"],[1,"status-btn","close-btn"],[1,"lni","lni-trash-can"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g._uU(2,"News-Event Management"),g.qZA(),g.TgZ(3,"button",2),g._UZ(4,"i",3),g._uU(5," New Event"),g.qZA(),g.qZA(),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g._UZ(11,"div",9),g.qZA(),g.TgZ(12,"div",10),g.TgZ(13,"div",11),g.TgZ(14,"p"),g._uU(15,"Show "),g.TgZ(16,"span"),g._uU(17,"10"),g.qZA(),g._uU(18," entries"),g.qZA(),g.qZA(),g.TgZ(19,"div",12),g.TgZ(20,"div",13),g.TgZ(21,"form",14),g.TgZ(22,"input",15),g.NdJ("ngModelChange",function(e){return t.filterdata=e}),g.qZA(),g.TgZ(23,"button"),g._UZ(24,"i",16),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"div",17),g.TgZ(26,"table",18),g.TgZ(27,"thead"),g.TgZ(28,"tr"),g.TgZ(29,"th"),g.TgZ(30,"h6"),g._uU(31,"#"),g.qZA(),g.qZA(),g.TgZ(32,"th"),g.TgZ(33,"h6"),g._uU(34,"News"),g.qZA(),g.qZA(),g.TgZ(35,"th"),g.TgZ(36,"h6"),g._uU(37,"Start Date"),g.qZA(),g.qZA(),g.TgZ(38,"th"),g.TgZ(39,"h6"),g._uU(40,"End Date"),g.qZA(),g.qZA(),g.TgZ(41,"th"),g.TgZ(42,"h6"),g._uU(43,"Category"),g.qZA(),g.qZA(),g.TgZ(44,"th"),g.TgZ(45,"h6"),g._uU(46,"Status"),g.qZA(),g.qZA(),g.TgZ(47,"th"),g.TgZ(48,"h6"),g._uU(49,"Action"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(50,"tbody"),g.YNc(51,Me,32,16,"tr",19),g.ALo(52,"paginate"),g.ALo(53,"filter"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(54,"div",20),g.TgZ(55,"div",11),g.TgZ(56,"p",21),g._uU(57),g.qZA(),g.qZA(),g.TgZ(58,"div",22),g.TgZ(59,"pagination-controls",23),g.NdJ("pageChange",function(e){return t.p=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(22),g.Q6J("ngModel",t.filterdata),g.xp6(29),g.Q6J("ngForOf",g.xi3(52,3,g.xi3(53,6,t.news,t.filterdata),g.WLB(9,Qe,t.count,t.p))),g.xp6(6),g.hij("Total ",t.countdata," Data"))},directives:[l.rH,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,a.sg,Ye.LS,a.O5],pipes:[Ye._s,Fe.Z,a.uU],encapsulation:2}),e}()},{path:"add",component:re},{path:"edit/:id",component:re}]}],Le=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[l.Bz.forChild(We)],l.Bz]}),e}(),Ve=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[a.uU],imports:[[a.ez,c.UX,Le,_.A0,c.u5,ke.register("ngsw-worker.js",{enabled:!0}),Ye.JX,Fe.h]]}),e}()}}])}();