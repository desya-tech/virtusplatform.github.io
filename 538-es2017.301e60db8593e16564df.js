"use strict";(self.webpackChunkappdemo_ng12=self.webpackChunkappdemo_ng12||[]).push([[538],{2538:function(t,e,i){i.r(e),i.d(e,{ProductModule:function(){return bt}});var n=i(2224),r=i(8127),o=i(30),s=i(7112),c=i(5688),a=i(1037),g=i(7147),l=i(5342);let d=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(`${a.N.apiUrl}/product`)}getById(t){return this.http.get(`${a.N.apiUrl}/product/getdetail/${t}`)}getByCategory(t){return this.http.get(`${a.N.apiUrl}/product/getbycategory/${t}`)}getCategoryMProduct(t){return this.http.get(`${a.N.apiUrl}/product/getcategorymproduct/${t}`)}create(t){return this.http.post(`${a.N.apiUrl}/product/create`,t)}update(t,e){return this.http.put(`${a.N.apiUrl}/product/update/${t}`,e)}delete(t){return this.http.delete(`${a.N.apiUrl}/product/delete/${t}`)}getProduct(){return this.http.get(`${a.N.apiUrl}/product/getproduct`)}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(l.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i(7148),p=i(1569),Z=i(3546),f=i(2016);function h(t,e){1&t&&(g.TgZ(0,"h2",22),g._uU(1,"New Product"),g.qZA())}function m(t,e){1&t&&(g.TgZ(0,"h2",22),g._uU(1,"Edit Product"),g.qZA())}function T(t,e){1&t&&(g.TgZ(0,"div"),g._uU(1,"Product"),g.qZA())}function v(t,e){if(1&t&&(g.TgZ(0,"div"),g.YNc(1,T,2,0,"div",15),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("ngIf",t.f.PRODUCT_NAME.errors.required)}}const A=function(t){return{"is-invalid":t}};function b(t,e){if(1&t&&(g.TgZ(0,"div",13),g.TgZ(1,"label"),g._uU(2,"Product"),g.qZA(),g._UZ(3,"input",23),g.YNc(4,v,2,1,"div",15),g.qZA()),2&t){const t=g.oxw();g.xp6(3),g.Q6J("ngClass",g.VKq(2,A,t.submitted&&t.f.PRODUCT_NAME.errors)),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.PRODUCT_NAME.errors)}}function q(t,e){if(1&t&&(g.TgZ(0,"option",27),g._uU(1),g.qZA()),2&t){const t=e.$implicit;g.s9C("value",t.PRODUCT_ID),g.xp6(1),g.Oqu(t.PRODUCT_NAME)}}function U(t,e){1&t&&(g.TgZ(0,"div",29),g._uU(1,"*product required"),g.qZA())}function _(t,e){if(1&t&&(g.TgZ(0,"div"),g.YNc(1,U,2,0,"div",28),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("ngIf",t.f.PRODUCT_ID.errors.required)}}function x(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",11),g.TgZ(1,"label"),g._uU(2,"Product"),g.qZA(),g.TgZ(3,"div",24),g.TgZ(4,"select",25),g.NdJ("change",function(e){return g.CHM(t),g.oxw().onSelectClick(e.target.value)}),g.YNc(5,q,2,2,"option",26),g.qZA(),g.qZA(),g.YNc(6,_,2,1,"div",15),g.qZA()}if(2&t){const t=g.oxw();g.xp6(4),g.Q6J("ngClass",g.VKq(3,A,t.submitted&&t.f.PRODUCT_ID.errors)),g.xp6(1),g.Q6J("ngForOf",t.products),g.xp6(1),g.Q6J("ngIf",t.submitted&&t.f.PRODUCT_ID.errors)}}function C(t,e){1&t&&(g.TgZ(0,"div",29),g._uU(1,"*Description required"),g.qZA())}function I(t,e){if(1&t&&(g.TgZ(0,"div"),g.YNc(1,C,2,0,"div",28),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Q6J("ngIf",t.f.DESCRIPTION.errors.required)}}function y(t,e){1&t&&(g.TgZ(0,"div",29),g._uU(1,"*URL required"),g.qZA())}function P(t,e){if(1&t&&(g.TgZ(0,"div"),g.YNc(1,y,2,0,"div",28),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Q6J("ngIf",t.f.URL.errors.required)}}function N(t,e){1&t&&(g.TgZ(0,"div",35),g._UZ(1,"div",36),g.qZA())}function M(t,e){1&t&&(g.TgZ(0,"div",37),g._uU(1," Image Uploaded Succesfuly!"),g.qZA())}function O(t,e){1&t&&(g.TgZ(0,"div",38),g._uU(1," Image Upload Failed!"),g.qZA())}const w=function(t){return{"background-image":t}};function J(t,e){if(1&t&&(g.TgZ(0,"div",30),g._UZ(1,"div",31),g.YNc(2,N,2,0,"div",32),g.YNc(3,M,2,0,"div",33),g.YNc(4,O,2,0,"div",34),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Gre("img-preview","fail"===t.selectedFile.status?"-error":"",""),g.Q6J("ngStyle",g.VKq(7,w,"url("+t.selectedFile.src+")")),g.xp6(1),g.Q6J("ngIf",t.selectedFile.pending),g.xp6(1),g.Q6J("ngIf","ok"===t.selectedFile.status),g.xp6(1),g.Q6J("ngIf","fail"===t.selectedFile.status)}}function S(t,e){1&t&&(g.TgZ(0,"div",29),g._uU(1,"*Picture required"),g.qZA())}function R(t,e){if(1&t&&(g.TgZ(0,"div"),g.YNc(1,S,2,0,"div",28),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Q6J("ngIf",t.f.PICTURE.errors.required)}}function D(t,e){1&t&&g._UZ(0,"span")}const Y=function(){return{standalone:!0}};class E{constructor(t,e){this.src=t,this.file=e,this.pending=!1,this.status="init"}}let k=(()=>{class t{constructor(t,e,i,n,r,o,s){this.formBuilder=t,this.route=e,this.router=i,this.productService=n,this.categoryProductService=r,this.alertService=o,this.imageService=s,this.subs=new c.Y,this.loading=!1,this.submitted=!1,this.products=null,this.productName=null,this.categoryProduct=null,this.selectcategoryProduct=null,this.selected=null,this.apiurl=a.N.apiUrl,this.filenameimage=null}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.selected=null,this.form=this.formBuilder.group({M_PRODUCT_ID:[0],PRODUCT_ID:["",r.kI.required],PRODUCT_NAME:[""],DESCRIPTION:["",r.kI.required],URL:["",r.kI.required],PICTURE:["",r.kI.required],category_product_list:[""]}),this.isAddMode||(this.subs.add(this.productService.getById(this.id).pipe((0,s.P)()).subscribe(t=>this.form.patchValue(t))),this.subs.add(this.productService.getCategoryMProduct(this.id).pipe((0,s.P)()).subscribe(t=>this.selectcategoryProduct=t))),this.subs.add(this.productService.getProduct().subscribe(t=>this.products=t)),this.subs.add(this.categoryProductService.getAllActive().subscribe(t=>this.categoryProduct=t))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.form.value.category_product_list=this.selectcategoryProduct,this.loading=!0,this.isAddMode?this.createProduct():this.updateProduct())}onSelection(t){this.selectcategoryProduct=t}createProduct(){this.alertService.loading(),this.subs.add(this.productService.create(this.form.value).pipe((0,s.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../"],{relativeTo:this.route})},error:t=>{this.alertService.error(t),this.loading=!1}}))}updateProduct(){this.alertService.loading(),this.subs.add(this.productService.update(this.id,this.form.value).pipe((0,s.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../../"],{relativeTo:this.route})},error:t=>{this.alertService.error(t),this.loading=!1}}))}onSuccess(){this.selectedFile.pending=!1,this.selectedFile.status="ok"}onError(){this.selectedFile.pending=!1,this.selectedFile.status="fail",this.selectedFile.src=""}processFile(t){const e=t.files[0],i=new FileReader;this.form.value.PICTURE&&this.imageService.deleteImage(this.form.value.PICTURE).pipe((0,s.P)()).subscribe(),i.addEventListener("load",t=>{this.selectedFile=new E(t.target.result,e),this.imageService.uploadImage(this.selectedFile.file).subscribe(t=>{this.form.get("PICTURE").setValue(t.filename),this.onSuccess()},t=>{this.onError()})}),i.readAsDataURL(e)}onSelectClick(t){this.productName=this.products.filter(e=>e.PRODUCT_ID===t)[0].PRODUCT_NAME,this.form.get("PRODUCT_NAME").setValue(this.productName)}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(r.qu),g.Y36(o.gz),g.Y36(o.F0),g.Y36(d),g.Y36(u.v),g.Y36(p.c9),g.Y36(Z.C))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-product-add-edit"]],decls:51,vars:25,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],["class","mr-40",4,"ngIf"],["routerLink","/product",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover"],[1,"lni","lni-chevron-left","mr-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6"],[1,"card-style","mb-30"],[1,"divider"],["class","input-style-1",4,"ngIf"],["class","select-style-1",4,"ngIf"],[1,"select-style-1"],["bindLabel","CATEGORY_PRODUCT_NAME","placeholder","Select Category","appendTo","body",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],[1,"input-style-1"],["formControlName","DESCRIPTION","rows","5",3,"ngClass"],[4,"ngIf"],["type","text","formControlName","URL",3,"ngClass"],["type","file","accept","image/*",3,"change"],["imageInput",""],["class","img-preview-container",4,"ngIf"],["type","text","formControlName","PICTURE","disabled","",3,"ngClass"],[1,"main-btn","primary-btn","rounded-btn","btn-hover",3,"disabled"],[1,"mr-40"],["type","text","formControlName","PRODUCT_NAME","disabled","",3,"ngClass"],[1,"select-position"],["formControlName","PRODUCT_ID",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["style","color:red",4,"ngIf"],[2,"color","red"],[1,"img-preview-container"],[3,"ngStyle"],["class","img-loading-overlay",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"img-loading-overlay"],[1,"img-spinning-circle"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",0),g.YNc(1,h,2,0,"h2",1),g.YNc(2,m,2,0,"h2",1),g.TgZ(3,"button",2),g._UZ(4,"i",3),g._uU(5,"Back"),g.qZA(),g.qZA(),g.TgZ(6,"div",4),g.TgZ(7,"form",5),g.NdJ("ngSubmit",function(){return e.onSubmit()}),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"h5"),g._uU(11,"Product Description"),g.qZA(),g.TgZ(12,"span",8),g._UZ(13,"hr"),g.qZA(),g.YNc(14,b,5,4,"div",9),g.YNc(15,x,7,5,"div",10),g.TgZ(16,"div",11),g.TgZ(17,"label"),g._uU(18,"Category"),g.qZA(),g.TgZ(19,"ng-select",12),g.NdJ("change",function(t){return e.onSelection(t)})("ngModelChange",function(t){return e.selectcategoryProduct=t}),g.qZA(),g.qZA(),g.TgZ(20,"div",13),g.TgZ(21,"label"),g._uU(22,"Description"),g.qZA(),g.TgZ(23,"textarea",14),g._uU(24," "),g.qZA(),g.YNc(25,I,2,1,"div",15),g.qZA(),g.TgZ(26,"div",13),g.TgZ(27,"label"),g._uU(28,"URL"),g.qZA(),g._UZ(29,"input",16),g.YNc(30,P,2,1,"div",15),g.qZA(),g.TgZ(31,"div",13),g.TgZ(32,"label"),g._uU(33,"Select Image"),g.qZA(),g.TgZ(34,"input",17,18),g.NdJ("change",function(){g.CHM(t);const i=g.MAs(35);return e.processFile(i)}),g.qZA(),g.qZA(),g.YNc(36,J,5,9,"div",19),g.TgZ(37,"div",13),g.TgZ(38,"label"),g._uU(39,"PICTURE"),g.qZA(),g._UZ(40,"input",20),g.YNc(41,R,2,1,"div",15),g.qZA(),g.TgZ(42,"span",8),g._UZ(43,"hr"),g.qZA(),g.TgZ(44,"div"),g.TgZ(45,"button",2),g._uU(46," Cancel "),g.qZA(),g._uU(47,"\xa0 "),g.TgZ(48,"button",21),g.YNc(49,D,1,0,"span",15),g._uU(50," \xa0Save\xa0 "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&t&&(g.xp6(1),g.Q6J("ngIf",e.isAddMode),g.xp6(1),g.Q6J("ngIf",!e.isAddMode),g.xp6(5),g.Q6J("formGroup",e.form),g.xp6(7),g.Q6J("ngIf",!e.isAddMode),g.xp6(1),g.Q6J("ngIf",e.isAddMode),g.xp6(4),g.Q6J("items",e.categoryProduct)("multiple",!0)("ngModel",e.selectcategoryProduct)("ngModelOptions",g.DdM(18,Y)),g.xp6(4),g.Q6J("ngClass",g.VKq(19,A,e.submitted&&e.f.DESCRIPTION.errors)),g.xp6(2),g.Q6J("ngIf",e.submitted&&e.f.DESCRIPTION.errors),g.xp6(4),g.Q6J("ngClass",g.VKq(21,A,e.submitted&&e.f.URL.errors)),g.xp6(1),g.Q6J("ngIf",e.submitted&&e.f.URL.errors),g.xp6(6),g.Q6J("ngIf",e.selectedFile),g.xp6(4),g.Q6J("ngClass",g.VKq(23,A,e.submitted&&e.f.PICTURE.errors)),g.xp6(1),g.Q6J("ngIf",e.submitted&&e.f.PICTURE.errors),g.xp6(7),g.Q6J("disabled",e.loading),g.xp6(1),g.Q6J("ngIf",e.loading))},directives:[n.O5,o.rH,r._Y,r.JL,r.sg,f.w9,r.JJ,r.On,r.Fj,r.u,n.mk,r.EJ,n.sg,r.YN,r.Kr,n.PC],styles:['.image-upload-container[_ngcontent-%COMP%]{cursor:pointer}.img-preview-container[_ngcontent-%COMP%]{background-color:#f7f7f7;position:relative}.img-preview-container[_ngcontent-%COMP%]   .img-preview[_ngcontent-%COMP%]{background:center center no-repeat;background-size:contain;height:116px;width:116px}.img-preview-container[_ngcontent-%COMP%]   .img-preview-error[_ngcontent-%COMP%]{display:none}.img-loading-overlay[_ngcontent-%COMP%]{background-color:#000;bottom:0;left:0;opacity:.2;position:absolute;right:0;top:0}.img-spinning-circle[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px;margin:auto;position:absolute;top:0;left:0;bottom:0;right:0}.img-spinning-circle[_ngcontent-%COMP%]:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent #fff transparent;-webkit-animation:lds-dual-ring 1.2s linear infinite;animation:lds-dual-ring 1.2s linear infinite}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t})(),L=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-product-layout"]],decls:1,vars:0,template:function(t,e){1&t&&g._UZ(0,"router-outlet")},directives:[o.lC],styles:[""]}),t})();var Q=i(4693),F=i.n(Q),H=i(7333),$=i(4968);function B(t,e){if(1&t&&(g.TgZ(0,"div",9),g.TgZ(1,"div",10),g.TgZ(2,"div",11),g._UZ(3,"i",12),g.qZA(),g.TgZ(4,"div",13),g.TgZ(5,"h6",14),g._uU(6),g.qZA(),g.TgZ(7,"p",15),g.TgZ(8,"a",16),g._uU(9,"Open Web URL"),g.qZA(),g.qZA(),g.TgZ(10,"p",15),g.TgZ(11,"a",17),g._uU(12,"View Related Products >>"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){const t=e.$implicit;g.xp6(6),g.Oqu(t.CATEGORY_PRODUCT_NAME),g.xp6(2),g.s9C("href",t.URL,g.LSH),g.xp6(3),g.hYB("routerLink","group/",t.CATEGORY_PRODUCT_ID,"/",t.CATEGORY_PRODUCT_NAME,"")}}function G(t,e){1&t&&(g.TgZ(0,"button",18),g._UZ(1,"i",19),g._uU(2,"New Product"),g.qZA())}function V(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"a",20),g.NdJ("click",function(){return g.CHM(t),g.oxw().isManaging=!1}),g._uU(1,"Cancel"),g.qZA()}}function j(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"a",20),g.NdJ("click",function(){return g.CHM(t),g.oxw(2).isManaging=!0}),g._uU(1,"Detailed View"),g.qZA()}}function z(t,e){if(1&t&&g.YNc(0,j,2,0,"a",21),2&t){const t=g.oxw();g.Q6J("ngIf",t.rule.PRODUCT_MGMT)}}function K(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"a",32),g.NdJ("click",function(){return g.CHM(t),g.oxw(2).gridLayout=!1}),g._UZ(1,"i",33),g.qZA()}}function X(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"a",35),g.NdJ("click",function(){return g.CHM(t),g.oxw(3).gridLayout=!0}),g._UZ(1,"i",36),g.qZA()}}function W(t,e){if(1&t&&g.YNc(0,X,2,0,"a",34),2&t){const t=g.oxw(2);g.Q6J("ngIf",!t.isManaging)}}function tt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"div",22),g.TgZ(2,"div",23),g.TgZ(3,"div",24),g.YNc(4,K,2,0,"a",25),g.YNc(5,W,1,1,"ng-template",null,26,g.W1O),g._UZ(7,"br"),g._UZ(8,"br"),g.qZA(),g.TgZ(9,"div",27),g.TgZ(10,"div",28),g.TgZ(11,"form",29),g.TgZ(12,"input",30),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw().filterdata2=e}),g.qZA(),g.TgZ(13,"button"),g._UZ(14,"i",31),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=g.MAs(6),e=g.oxw();g.xp6(4),g.Q6J("ngIf",!e.isManaging&&e.gridLayout)("ngIfElse",t),g.xp6(8),g.Q6J("ngModel",e.filterdata2)}}function et(t,e){if(1&t&&(g.TgZ(0,"p"),g._uU(1),g.qZA()),2&t){const t=e.$implicit;g.xp6(1),g.Oqu(t.CATEGORY_PRODUCT_NAME)}}function it(t,e){1&t&&(g.TgZ(0,"span"),g._UZ(1,"i",57),g.qZA())}function nt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"div",50),g._UZ(3,"img",51),g.qZA(),g.qZA(),g.TgZ(4,"td",52),g.TgZ(5,"p"),g._uU(6),g.qZA(),g.qZA(),g.TgZ(7,"td",52),g.YNc(8,et,2,1,"p",45),g.qZA(),g.TgZ(9,"td",52),g.TgZ(10,"p"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"td"),g.TgZ(13,"div",53),g.TgZ(14,"button",54),g._UZ(15,"i",55),g.qZA(),g._uU(16,"\xa0 "),g.TgZ(17,"button",56),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw(3).delete(e.M_PRODUCT_ID)}),g.YNc(18,it,2,0,"span",8),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit,i=g.oxw(3);g.xp6(3),g.s9C("src",i.apiurl+t.PICTURE,g.LSH),g.xp6(3),g.Oqu(t.PRODUCT_NAME),g.xp6(2),g.Q6J("ngForOf",t.category_product_list),g.xp6(3),g.Oqu(t.DESCRIPTION),g.xp6(3),g.MGl("routerLink","edit/",t.M_PRODUCT_ID,""),g.xp6(3),g.Q6J("disabled",t.isDeleting),g.xp6(1),g.Q6J("ngIf",!t.isDeleting)}}const rt=function(t,e){return{itemsPerPage:t,currentPage:e}};function ot(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",38),g.TgZ(1,"div",0),g.TgZ(2,"div",39),g.TgZ(3,"div",22),g.TgZ(4,"div",40),g._UZ(5,"div",41),g.qZA(),g.TgZ(6,"div",23),g.TgZ(7,"div",24),g.TgZ(8,"p"),g._uU(9,"Show "),g.TgZ(10,"span"),g._uU(11,"10"),g.qZA(),g._uU(12," entries"),g.qZA(),g.qZA(),g.TgZ(13,"div",27),g.TgZ(14,"div",28),g.TgZ(15,"form",29),g.TgZ(16,"input",42),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).filterdata=e}),g.qZA(),g.TgZ(17,"button"),g._UZ(18,"i",31),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",43),g.TgZ(20,"table",44),g.TgZ(21,"thead"),g.TgZ(22,"tr"),g.TgZ(23,"th"),g.TgZ(24,"h6"),g._uU(25,"#"),g.qZA(),g.qZA(),g.TgZ(26,"th"),g.TgZ(27,"h6"),g._uU(28,"Product"),g.qZA(),g.qZA(),g.TgZ(29,"th"),g.TgZ(30,"h6"),g._uU(31,"Category"),g.qZA(),g.qZA(),g.TgZ(32,"th"),g.TgZ(33,"h6"),g._uU(34,"Desc"),g.qZA(),g.qZA(),g.TgZ(35,"th"),g.TgZ(36,"h6"),g._uU(37,"Action"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"tbody"),g.YNc(39,nt,19,7,"tr",45),g.ALo(40,"paginate"),g.ALo(41,"filter"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(42,"div",46),g.TgZ(43,"div",24),g.TgZ(44,"p",47),g._uU(45),g.qZA(),g.qZA(),g.TgZ(46,"div",48),g.TgZ(47,"pagination-controls",49),g.NdJ("pageChange",function(e){return g.CHM(t),g.oxw(2).p=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=g.oxw(2);g.xp6(16),g.Q6J("ngModel",t.filterdata),g.xp6(23),g.Q6J("ngForOf",g.xi3(40,3,g.xi3(41,6,t.product,t.filterdata),g.WLB(9,rt,t.count,t.p))),g.xp6(6),g.hij("Total ",t.countdata," Products")}}function st(t,e){if(1&t&&(g.TgZ(0,"div"),g.YNc(1,ot,48,12,"div",37),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Q6J("ngIf",t.isManaging)}}function ct(t,e){if(1&t&&(g.TgZ(0,"div",65),g.TgZ(1,"a",66),g._UZ(2,"img",67),g.qZA(),g.qZA()),2&t){const t=g.oxw().$implicit,e=g.oxw(2);g.xp6(1),g.s9C("href",t.URL,g.LSH),g.xp6(1),g.s9C("src",e.apiurl+t.PICTURE,g.LSH)}}function at(t,e){if(1&t&&(g.TgZ(0,"div",59),g.TgZ(1,"div",60),g.YNc(2,ct,3,2,"div",61),g.TgZ(3,"div",62),g.TgZ(4,"h4"),g._uU(5),g.qZA(),g._UZ(6,"br"),g.TgZ(7,"p"),g._uU(8),g.qZA(),g.TgZ(9,"span",63),g._UZ(10,"hr"),g.qZA(),g.TgZ(11,"a",64),g._uU(12,"Selengkapnya"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){const t=e.$implicit,i=g.oxw(2);g.Q6J("ngClass",i.gridLayout?"col-xl-4 col-lg-4 col-md-6 col-sm-6":""),g.xp6(2),g.Q6J("ngIf",i.gridLayout),g.xp6(3),g.Oqu(t.PRODUCT_NAME),g.xp6(3),g.hij(" ",t.DESCRIPTION," "),g.xp6(3),g.s9C("href",t.URL,g.LSH)}}function gt(t,e){if(1&t&&(g.TgZ(0,"div"),g.TgZ(1,"div",0),g.YNc(2,at,13,5,"div",58),g.ALo(3,"filter"),g.qZA(),g.qZA()),2&t){const t=g.oxw();g.xp6(2),g.Q6J("ngForOf",g.xi3(3,1,t.product,t.filterdata2))}}let lt=(()=>{class t{constructor(t,e,i,n){this.productService=t,this.categoryProductService=e,this.imageService=i,this.alertService=n,this.subs=new c.Y,this.product=null,this.isManaging=!1,this.gridLayout=!0,this.category=null,this.p=1,this.count=10,this.countdata=null,this.apiurl=a.N.apiUrl+"/image/",this.rule=JSON.parse(localStorage.getItem("2"))}ngOnInit(){this.subs.add(this.productService.getAll().pipe((0,s.P)()).subscribe(t=>{this.product=t,this.countdata=this.product.length})),this.subs.add(this.categoryProductService.getAllActive().pipe((0,s.P)()).subscribe(t=>this.category=t))}delete(t){this.alertService.loading();const e=this.product.find(e=>e.M_PRODUCT_ID===t.M_PRODUCT_ID);this.subs.add(this.productService.delete(t.M_PRODUCT_ID).pipe((0,s.P)()).subscribe(()=>{e.isDeleting=!0,this.product=this.product.filter(e=>e.M_PRODUCT_ID!==t.M_PRODUCT_ID),this.countdata=this.product.length,this.alertService.success(),this.subs.add(this.imageService.deleteImage(e.PICTURE).pipe((0,s.P)()).subscribe())},t=>{this.alertService.error(t)}))}onCBChanged(t){this.isManaging=t}confirmBox(t,e){"delete"==t&&F().fire({title:"Are you sure want to delete?",text:e.USERNAME,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(t=>{t.value&&this.delete(e)})}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(d),g.Y36(u.v),g.Y36(Z.C),g.Y36(p.c9))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-product"]],decls:18,vars:7,consts:[[1,"row"],[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],["class","col-xl-4 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],["routerLink","add","class","main-btn primary-btn btn-hover btn-sm",4,"ngIf"],["class","main-btn primary-btn btn-hover btn-sm",3,"click",4,"ngIf","ngIfElse"],["viewMode",""],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-xl-4","col-lg-4","col-sm-6"],[1,"icon-card","mb-30"],[1,"icon","purple"],[1,"lni","lni-cart-full"],[1,"content"],[1,"mb-10"],[1,"text-sm","text-success"],["target","_blank",1,"read-more",3,"href"],[1,"read-more",3,"routerLink"],["routerLink","add",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-plus","mr-5"],[1,"main-btn","primary-btn","btn-hover","btn-sm",3,"click"],["class","main-btn primary-btn btn-hover btn-sm",3,"click",4,"ngIf"],[1,"card-style","mb-30"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3"],[1,"left"],["class","main-btn active-btn btn-hover",3,"click",4,"ngIf","ngIfElse"],["metroLayout",""],[1,"right"],[1,"table-search","d-flex"],["action","#"],["type","text","name","something","placeholder","Search Product",3,"ngModel","ngModelChange"],[1,"lni","lni-search-alt"],[1,"main-btn","active-btn","btn-hover",3,"click"],[1,"lni","lni-menu"],["class","main-btn deactive-btn btn-hover",3,"click",4,"ngIf"],[1,"main-btn","deactive-btn","btn-hover",3,"click"],[1,"lni","lni-microsoft"],["class","tables-wrapper",4,"ngIf"],[1,"tables-wrapper"],[1,"col-lg-12"],[1,"row","align-items-center"],[1,"col-md-6"],["type","text","name","something","placeholder","Search...",3,"ngModel","ngModelChange"],[1,"table-wrapper","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pt-10","d-flex","flex-wrap","justify-content-between"],[1,"text-sm","text-gray"],[1,"text-right"],[3,"pageChange"],[1,"employee-image"],["alt","",3,"src"],[1,"min-width"],[1,"action"],[1,"text-primary",2,"cursor","pointer",3,"routerLink"],[1,"lni","lni-pencil-alt"],[1,"text-danger",3,"disabled","click"],[1,"lni","lni-trash-can"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card-style-2","mb-30"],["class","card-image",4,"ngIf"],[1,"card-content"],[1,"divider"],[1,"read-more",3,"href"],[1,"card-image"],[2,"cursor","pointer",3,"href"],["alt","Hahahah",3,"src"]],template:function(t,e){if(1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2",2),g._uU(3,"Category Product"),g.qZA(),g.qZA(),g.TgZ(4,"div",0),g.YNc(5,B,13,4,"div",3),g.qZA(),g.TgZ(6,"div",1),g.TgZ(7,"h2",2),g._uU(8,"Product List"),g.qZA(),g.YNc(9,G,3,0,"button",4),g._uU(10," \xa0 "),g.YNc(11,V,2,0,"a",5),g.YNc(12,z,1,1,"ng-template",null,6,g.W1O),g._uU(14,"\xa0 "),g.qZA(),g.YNc(15,tt,15,3,"div",7),g.YNc(16,st,2,1,"div",8),g.YNc(17,gt,4,4,"div",8),g.qZA()),2&t){const t=g.MAs(13);g.xp6(5),g.Q6J("ngForOf",e.category),g.xp6(4),g.Q6J("ngIf",e.rule.PRODUCT_MGMT),g.xp6(2),g.Q6J("ngIf",e.rule.PRODUCT_MGMT&&e.isManaging)("ngIfElse",t),g.xp6(4),g.Q6J("ngIf",!e.isManaging),g.xp6(1),g.Q6J("ngIf",e.rule.ACTIVITY_MGMT),g.xp6(1),g.Q6J("ngIf",!e.isManaging)}},directives:[n.sg,n.O5,o.yS,o.rH,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,H.LS,n.mk],pipes:[H._s,$.Z],styles:[""]}),t})();function dt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"a",10),g.NdJ("click",function(){return g.CHM(t),g.oxw().gridLayout=!1}),g._UZ(1,"i",11),g.qZA()}}function ut(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"a",13),g.NdJ("click",function(){return g.CHM(t),g.oxw(2).gridLayout=!0}),g._UZ(1,"i",14),g.qZA()}}function pt(t,e){if(1&t&&g.YNc(0,ut,2,0,"a",12),2&t){const t=g.oxw();g.Q6J("ngIf",!t.isManaging)}}function Zt(t,e){if(1&t&&(g.TgZ(0,"div",22),g.TgZ(1,"a",23),g._UZ(2,"img",24),g.qZA(),g.qZA()),2&t){const t=g.oxw().$implicit,e=g.oxw(2);g.xp6(1),g.s9C("href",t.URL,g.LSH),g.xp6(1),g.s9C("src",e.apiurl+t.PICTURE,g.LSH)}}function ft(t,e){if(1&t&&(g.TgZ(0,"div",16),g.TgZ(1,"div",17),g.YNc(2,Zt,3,2,"div",18),g.TgZ(3,"div",19),g.TgZ(4,"h4"),g._uU(5),g.qZA(),g._UZ(6,"br"),g.TgZ(7,"p"),g._uU(8),g.qZA(),g.TgZ(9,"span",20),g._UZ(10,"hr"),g.qZA(),g.TgZ(11,"a",21),g._uU(12,"Selengkapnya"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){const t=e.$implicit,i=g.oxw(2);g.Q6J("ngClass",i.gridLayout?"col-xl-4 col-lg-4 col-md-6 col-sm-6":""),g.xp6(2),g.Q6J("ngIf",i.gridLayout),g.xp6(3),g.Oqu(t.PRODUCT_NAME),g.xp6(3),g.hij(" ",t.DESCRIPTION," "),g.xp6(3),g.s9C("href",t.URL,g.LSH)}}function ht(t,e){if(1&t&&(g.TgZ(0,"div"),g.TgZ(1,"div",0),g.YNc(2,ft,13,5,"div",15),g.qZA(),g.qZA()),2&t){const t=g.oxw();g.xp6(2),g.Q6J("ngForOf",t.product)}}let mt=(()=>{class t{constructor(t,e){this.route=t,this.productServcie=e,this.subs=new c.Y,this.product=null,this.isManaging=!1,this.gridLayout=!0,this.apiurl=a.N.apiUrl+"/image/",this.rule=JSON.parse(localStorage.getItem("2"))}ngOnInit(){this.categoryName=this.route.snapshot.params.category,this.subs.add(this.productServcie.getByCategory(this.route.snapshot.params.id).subscribe(t=>this.product=t))}onCBChanged(t){this.isManaging=t}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(o.gz),g.Y36(d))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-product-group"]],decls:15,vars:4,consts:[[1,"row"],[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],[1,"card-style","mb-30"],[1,"col-lg-6"],["routerLink","/product",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover"],[1,"lni","lni-chevron-left","mr-5"],["class","main-btn active-btn btn-hover",3,"click",4,"ngIf","ngIfElse"],["metroLayout",""],[4,"ngIf"],[1,"main-btn","active-btn","btn-hover",3,"click"],[1,"lni","lni-menu"],["class","main-btn deactive-btn btn-hover",3,"click",4,"ngIf"],[1,"main-btn","deactive-btn","btn-hover",3,"click"],[1,"lni","lni-microsoft"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card-style-2","mb-30"],["class","card-image",4,"ngIf"],[1,"card-content"],[1,"divider"],[1,"read-more",3,"href"],[1,"card-image"],[2,"cursor","pointer",3,"href"],["alt","Hahahah",3,"src"]],template:function(t,e){if(1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2",2),g._uU(3),g.qZA(),g.qZA(),g.TgZ(4,"div",0),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"button",5),g._UZ(8,"i",6),g._uU(9,"Back"),g.qZA(),g._uU(10," \xa0 "),g.YNc(11,dt,2,0,"a",7),g.YNc(12,pt,1,1,"ng-template",null,8,g.W1O),g.qZA(),g.qZA(),g.qZA(),g.YNc(14,ht,3,1,"div",9),g.qZA()),2&t){const t=g.MAs(13);g.xp6(3),g.Oqu(e.categoryName),g.xp6(8),g.Q6J("ngIf",!e.isManaging&&e.gridLayout)("ngIfElse",t),g.xp6(3),g.Q6J("ngIf",!e.isManaging)}},directives:[o.rH,n.O5,n.sg,n.mk],styles:[""]}),t})();var Tt=i(7749);const vt=[{path:"product",component:L,children:[{path:"",component:lt},{path:"group/:id/:category",component:mt},{path:"add",component:k,canActivate:[Tt.p]},{path:"edit/:id",component:k,canActivate:[Tt.p]}]}];let At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.Bz.forChild(vt)],o.Bz]}),t})(),bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[n.ez,r.UX,At,f.A0,r.u5,H.JX,$.h]]}),t})()}}]);